<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>P2P Network</title>
    <meta name="description" content="he documentation, system design guide, api reference and command line tool reference of PPIO. PPIO is a private, stable and affordable programmable decentralized cloud storage.">
    <meta name="description" content="The documentation, system design guide, api reference and command line tool reference of PPIO. PPIO is a private, stable and affordable programmable decentralized cloud storage.">
  <meta name="keywords" content="system design, get started, get starting, api reference, command line tool, PPIO, ppio, ppio sdk">
  <meta name="author" content="PPIO, Inc.">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="PPIO">
  <meta property="og:title" content="PPIO: A private, stable and affordable programmable decentralized cloud storage.">
  <meta property="og:description" content="The documentation, system design guide, api reference and command line tool reference of PPIO.">
  <meta property="og:url" content="https://docs.pp.io">
  <meta property="og:image" content="https://pp.io/share.png">
  <meta property="og:image:alt" content="PPIO">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:site" content="@PPLabs_PPIO">
  <meta property="twitter:creator" content="@PPLabs_PPIO">
  <meta property="twitter:title" content="PPIO: A private, stable and affordable programmable decentralized cloud storage.">
  <meta property="twitter:description" content="The documentation, system design guide, api reference and command line tool reference of PPIO.">
  <meta property="twitter:url" content="https://docs.pp.io">
  <meta property="twitter:image" content="https://pp.io/share.png">
  <link rel="icon" href="/favicon.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.3afaf8b8.css" as="style"><link rel="preload" href="/assets/js/app.28ed3b6b.js" as="script"><link rel="preload" href="/assets/js/11.4dba7306.js" as="script"><link rel="prefetch" href="/assets/js/2.f48f8e29.js"><link rel="prefetch" href="/assets/js/3.06aae7e7.js"><link rel="prefetch" href="/assets/js/4.5abc7448.js"><link rel="prefetch" href="/assets/js/5.6afcc576.js"><link rel="prefetch" href="/assets/js/6.1d17ad8b.js"><link rel="prefetch" href="/assets/js/7.8a418255.js"><link rel="prefetch" href="/assets/js/8.10533818.js"><link rel="prefetch" href="/assets/js/9.29659737.js"><link rel="prefetch" href="/assets/js/10.9679bcec.js"><link rel="prefetch" href="/assets/js/12.07c185e5.js"><link rel="prefetch" href="/assets/js/13.fde40de7.js"><link rel="prefetch" href="/assets/js/14.bac8f0b1.js"><link rel="prefetch" href="/assets/js/15.8bcf3e25.js"><link rel="prefetch" href="/assets/js/16.6e21274a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3afaf8b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="navbar-container"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://pp.io" class="home-link"><img src="/logo.png" alt="" class="logo"> <!----></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/api/" class="nav-link">API</a></div><div class="nav-item"><a href="https://pp.io/projects.html" rel="noopener noreferrer" class="nav-link external">
  Projects
  </a></div><div class="nav-item"><a href="https://blog.pp.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  </a></div><div class="nav-item"><a href="https://github.com/ppio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  </a></div> <!----></nav></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/api/" class="nav-link">API</a></div><div class="nav-item"><a href="https://pp.io/projects.html" rel="noopener noreferrer" class="nav-link external">
  Projects
  </a></div><div class="nav-item"><a href="https://blog.pp.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  </a></div><div class="nav-item"><a href="https://github.com/ppio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  </a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/guide/" class="sidebar-link">Getting Started</a></li><li><a href="/guide/System_Design.html" class="sidebar-link">System Design of PPIO</a></li><li><a href="/guide/P2P_Network.html" class="active sidebar-link">P2P Network</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/P2P_Network.html#data-driven-scheduling" class="sidebar-link">Data-Driven Scheduling</a></li><li class="sidebar-sub-header"><a href="/guide/P2P_Network.html#distributed-database-and-routing" class="sidebar-link">Distributed Database and Routing</a></li><li class="sidebar-sub-header"><a href="/guide/P2P_Network.html#p2p-self-organizing-overlay-networks" class="sidebar-link">P2P Self-organizing Overlay networks</a></li><li class="sidebar-sub-header"><a href="/guide/P2P_Network.html#optimized-distribution-of-popular-content" class="sidebar-link">Optimized Distribution of Popular Content</a></li><li class="sidebar-sub-header"><a href="/guide/P2P_Network.html#isp-friendly-scheduling" class="sidebar-link">ISP Friendly Scheduling</a></li><li class="sidebar-sub-header"><a href="/guide/P2P_Network.html#pcdn" class="sidebar-link">PCDN</a></li></ul></li><li><a href="/guide/Four_Proof_Algorithms.html" class="sidebar-link">Four Proof Algorithms</a></li><li><a href="/guide/Five_Kinds_of_Attacks.html" class="sidebar-link">Five Kinds of Attack</a></li><li><a href="/guide/Architecture.html" class="sidebar-link">Seven Layer Architecture</a></li><li><a href="/guide/Command_Line_Tool.html" class="sidebar-link">Command Line Tool</a></li><li><a href="/guide/PPIO_SDK.html" class="sidebar-link">PPIO SDKs</a></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Others</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/guide/others/About_PPLabs.html" class="sidebar-link">About PPLabs</a></li><li><a href="/guide/others/Why_Do_Want_To_Design_PPIO.html" class="sidebar-link">Why Do We Want to Design PPIO</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="p2p-network"><a href="#p2p-network" aria-hidden="true" class="header-anchor">¶</a> P2P Network</h1> <h2 id="data-driven-scheduling"><a href="#data-driven-scheduling" aria-hidden="true" class="header-anchor">¶</a> Data-Driven Scheduling</h2> <p>In PPIO's system, a storage <code>Object</code> is divided into a number of <code>Segment</code>, each <code>Segment</code> is further divided into a number of <code>Piece</code>. For example, one segment can be partitioned into M pieces, and these pieces can be duplicated and stored by N different storage miners. Each of these N miners is also called a <code>Peer</code>. A scheduler decides how the M pieces can be downloaded from the N peers, so that the segment can be retrieved in a fast, efficient manner, and avoid duplicated pieces to be downloaded. This process is called <strong>Multi-point Download Scheduling</strong>.</p> <p>Two data-driven scheduling algorithms are developed to optimize PPIO's data transfer for file download and data streaming[1] use cases, respectively.</p> <h3 id="file-download"><a href="#file-download" aria-hidden="true" class="header-anchor">¶</a> File Download</h3> <p>Summary of the PPIO scheduling algorithm:</p> <ol><li>Multiple virtual connections(Tunnels) are established between the user and each peer with proven resource, in order to improve transmission efficiency. UDP based protocols such as KCP or UDT[2] are attempted first to make the connection. If it fails, TCP based protocols will be used instead to adapt to different types of heterogeneous networks.</li> <li>For each peer, an expected download speed <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>V</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">V_{conn}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.22222em;">V</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.22222em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">c</span><span class="mord mathit">o</span><span class="mord mathit">n</span><span class="mord mathit">n</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> is calculated based on its transmission history. If no history is found, a default empirical value is used.</li> <li>The number of virtual connections on each peer varies, the peer with a higher <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>V</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">V_{conn}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.22222em;">V</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.22222em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">c</span><span class="mord mathit">o</span><span class="mord mathit">n</span><span class="mord mathit">n</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> can have a larger number of initial virtual connections.</li> <li>Based on the partition of the segment, user first sends a download request to a given peer for an arbitrary piece, and the peer responds accordingly by sending user the pice upon receiving the request.</li> <li>When a piece is received from a virtual connection, the estimated download speed <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>V</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">V_{conn}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.22222em;">V</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.22222em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">c</span><span class="mord mathit">o</span><span class="mord mathit">n</span><span class="mord mathit">n</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> is updated, and another remaining arbitrary piece will be requested from the connection immediately, until all the data is downloaded.</li> <li>When a download request times out, the request is cancelled and all connections to the non-responding peer will be closed. The download requests of the remaining pieces will be re-routed to other peers. In this case, the non-responding peer will also be penalized, and the number of connections that can be established from the peer in future downloads is reduced.</li></ol> <p>Based on the past experience of building high-performing P2P network, PPIO's design allows multiple connections to be established from each peer. It significantly improves the overall transmission efficiency of the network, especially for TCP connections, as it works around the low efficiency problem caused by TCP's conservative flow control.</p> <h3 id="real-time-data-streaming"><a href="#real-time-data-streaming" aria-hidden="true" class="header-anchor">¶</a> Real-time Data Streaming</h3> <p>In addition to supporting efficient file download, PPIO also supports optimized P2P data streaming. PPIO's data-driven scheduler is designed to provide stable real-time streaming performance in an ad-hoc P2P network.[3] The technology has gone through many iterations of trial-and-error optimizations, and is proven to provide high quality user experience to streaming applications such as video-on-demand (VOD) service.</p> <p>A P2P streaming system has the following unique design characteristics:</p> <ul><li><strong>Sequential download.</strong> In order to maintain smooth streaming playback, subsequent segments and pieces from the current point of playback need to be prioritized in download scheduling.</li> <li><strong>Piece prioritization.</strong> Pieces with the smallest number of duplicates in the network need to be prioritized during download. This may seem counterintuitive, but prioritizing these pieces will help make downloading of the entire segment much faster.</li> <li><strong>Random access.</strong> Many streaming applications allow random access playback such as fast forwarding or seeking. To improve the experience, pieces at pre-defined random access points are prioritized during download. In this case there is a higher chance that necessary pieces are already downloaded to allow the playback to start immediately after seeking.</li></ul> <p>To achieve the design requirements above, a scheduling algorithm is required to make smart decisions on which peer a piece should be downloaded from, how many peers should be used for simultaneous download, how to set up timer for each peer, how to reschedule remaining pieces and adapt to network changes, etc. The scheduler is also designed to maximize download speed and minimize the overhead of duplicated requests and data transmission. A summary of the scheduling algorithm is as follows:</p> <ol><li>Similar to file download, multiple virtual connections(tunnels) are established with each peer, and the estimated transmission speed <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>V</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">V_{conn}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.22222em;">V</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.22222em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">c</span><span class="mord mathit">o</span><span class="mord mathit">n</span><span class="mord mathit">n</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> is calculated per virtual connection.</li> <li>Pieces to be downloaded are sorted based on their priorities and pre-allocated to available virtual connections by placing them in the corresponding download queues. The estimated arrival time for each piece can be calculated based on the speed of each virtual connection and the remaining pieces to be downloaded in each queue. In general, pieces with higher priority should end up with an earlier estimated arrival time.</li> <li>Step 2 is repeated periodically and all remaining pieces will be re-allocated to accommodate changes in the transmission speed and availability of the virtual connections.</li> <li>After a piece is successfully downloaded, the transmission speed of the virtual connection is updated, and a request is sent immediately to download the next piece in the queue.</li> <li>Urgent pieces can be requested from multiple connections to ensure smooth playback.</li> <li>Other parts of the algorithm works the same way as in normal file download.</li></ol> <p><strong>Environment variables of the pre-allocation algorithm</strong></p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// Definition of each virtual connection</span>
<span class="token keyword">struct</span> PeerConn <span class="token punctuation">{</span>
    speed <span class="token operator">:=</span> estimated speed of this virtual connection<span class="token punctuation">,</span> in KB<span class="token operator">/</span>s
    queue <span class="token operator">:=</span> virtual download queue of this connection
    isReq <span class="token operator">:=</span> is there pending request  
    lastReqTime <span class="token operator">:=</span> estimated arrival time of the last piece in queue<span class="token punctuation">,</span> in ticks
<span class="token punctuation">}</span>

pieceSize <span class="token operator">:=</span> size of the piece<span class="token punctuation">,</span> in KB
nowTick <span class="token operator">:=</span> current time<span class="token punctuation">,</span> in ticks
Peer<span class="token punctuation">[</span><span class="token punctuation">]</span> conns <span class="token operator">:=</span> available connections
pieces <span class="token operator">:=</span> pieces sorted by priority
</code></pre></div><p><strong>Pseudo code</strong></p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// Algorithm: Pre-schedule for the upcoming Piece, the result of the scheduling exists in the download queue of each tunnel.</span>
<span class="token comment">//Procedure : PreSchedule()</span>
<span class="token comment">//Input : conns, pieces, pieceSize, nowT ick Output : connRequestQueues</span>

<span class="token comment">// Define the time each PeerConn forecast will receive the Piece</span>
<span class="token builtin">uint32</span> lastRecvTimes<span class="token punctuation">[</span>conn<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
foreach i<span class="token punctuation">,</span>conn in conns do
  <span class="token comment">// Clear previously pre-schedule content</span>
  conn<span class="token punctuation">.</span>prescheduleQueue<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// If there is no request before, the current time is the actual time</span>
  <span class="token keyword">if</span> conn<span class="token punctuation">.</span>isReq <span class="token operator">=</span> <span class="token boolean">true</span> then
    lastRecvTimes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;-</span> nowTick<span class="token punctuation">;</span>
  <span class="token keyword">else</span>
    lastRecvTimes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;-</span> conn<span class="token punctuation">.</span>lastReqTime <span class="token operator">+</span> pieceSize<span class="token operator">/</span>conn<span class="token punctuation">.</span>speed<span class="token punctuation">;</span>
  end
end

foreach pieceInx in piece do
  <span class="token comment">// Define the time each PeerConn forecast will receive the Piece</span>
  <span class="token builtin">uint32</span> predTimes<span class="token punctuation">[</span>conn<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
  foreach i<span class="token punctuation">,</span> conn in conns do
    predTimes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;-</span> conn<span class="token punctuation">.</span>lastRecvTimes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> pieceSize<span class="token operator">/</span>conn<span class="token punctuation">.</span>speed<span class="token punctuation">;</span>
  end
  <span class="token comment">// Find the conn which will receive the piece earlist</span>
  predictInx ← conn <span class="token function">minInx</span><span class="token punctuation">(</span>predictRecvTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
  conns<span class="token punctuation">[</span>predictInx<span class="token punctuation">]</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>pieces<span class="token punctuation">[</span>pieceInx<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  lastRecvTimes<span class="token punctuation">[</span>predictInx<span class="token punctuation">]</span> <span class="token operator">+=</span> pieceSize<span class="token operator">/</span>conns<span class="token punctuation">[</span>predictInx<span class="token punctuation">]</span><span class="token punctuation">.</span>speed<span class="token punctuation">;</span>
end
connRequestQueues <span class="token operator">&lt;-</span> conns<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>queue<span class="token punctuation">;</span>
<span class="token keyword">return</span> connRequestQueues
</code></pre></div><p><img src="/cc3756ad4e7f5aad63c06a8b91613d75.png" alt="Illustration of pre-allocation"><br></p><p style="font-size:14px; text-align:center;">Illustration of pre-allocation</p><p></p> <p>PPIO's P2P transmission network is fully dynamic. Each peer responds to multiple download requests, and potentially to multiple downloading nodes. Each downloading node sends download requests to multiple peers, manages downloaded pieces and deals with potential timeouts and failures from the peers. At the same time, the downloading node itself can be serving download requests, working as a peer to other nodes. By utilizing the two data-driven scheduling algorithms, PPIO's dynamic P2P network is able to handle extremely high volume of concurrent data transmission efficiently.</p> <h2 id="distributed-database-and-routing"><a href="#distributed-database-and-routing" aria-hidden="true" class="header-anchor">¶</a> Distributed Database and Routing</h2> <p>PPIO is a fully decentralized storage and distribution system that requires its database to be also managed in a decentralized fashion. PPIO employs Distributed Hash Table (DHT) to store data and provide routing and lookup services.</p> <p>In a DHT, each piece of data is bundled with a unique key into a key-value pair. These key-value pairs are distributed and stored among the participating nodes. It avoids the problem with centralized database system, where a failure in the central server leads to the breakdown of the entire network. No single participating node in the DHT is tasked to maintain the entire network. Each node only stores a small part of the database and only needs to maintain information of its adjacent nodes, such design significantly reduces each node’s bandwidth and resource usage. To maintain the reliability of the system, redundancy is also added to the data and stored on multiple nodes, so that a single node failure does not cause loss of data.</p> <p>There are many different implementations of DHT, some of the commonly used are Chord, Pastry, Tapestry, Dynamo, and Kademlia. PPIO uses Kademlia, so do many other well known P2P projects like PPLive, BitTorrent, eMule, etc.</p> <p>Kademlia algorithm assigns a unique ID to each participating node. The node ID is also used to calculate distance between nodes and locate key-value pairs. To look up a specific key-value pair in the network, the algorithm steps through the network path and finds nodes closer to the key on every step, until it reaches the node that stores the key-pair. In order to support the lookup, each node needs to store information of a group of other nodes based their distance to it. Such distance is calculated by taking an XOR operation on two Node IDs. Node IDs have the same bit length as the keys used in key-value pairs. Therefore, the distance between node IDs and keys can be calculated in the same way. Since the XOR distance does not take actual geographic distance into account, it is possible for two nodes to reside next to one another in the network even though one of them may be in the United Kingdom, while the other is in the United States.<br> <img src="/a20d90a82d96a5267e325250e7d3d7ac.png" alt="Lookup in Kademlia DHT"><br></p><p style="font-size:14px; text-align:center;">Lookup in Kademlia DHT</p><p></p> <p>PPIO also adopts an extension of Kademlia - S/Kademlia to improve the security of the network. These changes are mainly caused by nodes via parallel looking over disjoint paths.  the network can sustain attacks even when a large number of nodes are compromised.</p> <p>With the DHT implementation above, structured data such as file index, statistics on network nodes, and other metadata can be securely saved and easily looked up in PPIO’s distributed network. However, data transfer in its storage network is handled differently, which will be discussed in the next section.</p> <h2 id="p2p-self-organizing-overlay-networks"><a href="#p2p-self-organizing-overlay-networks" aria-hidden="true" class="header-anchor">¶</a> P2P Self-organizing Overlay networks</h2> <p>Today’s well established storage services, such as Amazon S3, Dropbox, Google Drive, iCloud, etc., store customer data in large-scale data centers. Under cost constraints, each of the services can only deploy a limited number of data centers around the world.The deployment of Amazon AWS data centers is shown in the figure below. Due to the ad hoc nature of the Internet, it is extremely difficult to guarantee fast data transfer everywhere in the world by relying on a handful of data centers. Users in the same region have to compete for the available bandwidth from the data centers. As the number of users grow, their transfer speed and user experience will likely degrade.</p> <p><img src="/a0e05cc06b8759b4c2b271a138c1cf68.png" alt="AWS global infastructure"><br></p><p style="font-size:14px; text-align:center;">AWS global infastructure</p><p></p> <p>PPIO’s distributed storage is a self-org<br>
anizing, unstructured overlay network, that encourages connection among local peers. Nearby storage miners are more likely to be selected to store the data. Similarly, data distribution and retrieval is mostly handled by nearby peers as well. As a result, data transfer can be maintained at much higher speed by fully utilizing local network bandwidth.</p> <p>With more nodes joining PPIO’s storage network, it becomes easier to each node to find nearby peers with faster connection, for both storage and retrieval. Server bandwidth is no longer a bottleneck, and user growth leads to better speed and experience.</p> <h3 id="establishing-a-self-organizing-p2p-network"><a href="#establishing-a-self-organizing-p2p-network" aria-hidden="true" class="header-anchor">¶</a> Establishing a Self-Organizing P2P Network</h3> <p>Every node in PPIO’s network maintains a list of neighboring peers to stay connected with. The list gets updated constantly by dropping disappeared nodes, and adding newly joined neighbors. As a result the list should mostly contain active and fast neighbors. With all the nodes following the same process as described below, the self-organizing P2P overlay network can be established and maintained.</p> <ul><li>Start by selecting an initial set of candidate neighbors among the peers it had connections with in the past. Newly joined nodes start with an empty list.</li> <li>Obtain new candidate neighbors from the Kademlia DHT. As discussed in the previous section, there is no guarantee that these peers are its geographical neighbors or have fast connection to the node.</li> <li>Attempt to make connections to the above two sets of candidate nodes, the number of connections can not exceed a given limit. Each of the connected nodes is now considered a neighbor.</li> <li>Obtain new candidates repeatedly, by looking up neighbor's neighbors.</li> <li>Probe and evaluate the transmission speed of each new candidate repeatedly, in a round robin fashion, rank the candidates based on the evaluation.</li> <li>Eliminate neighbors that have low speed connection to the node or are no longer reachable.</li> <li>Select candidates ranked at the top to replace eliminated neighbors.</li> <li>Repeat the entire process repeatedly.</li></ul> <p>To support the above process, each node needs to maintain two real time list, a list of current neighbors, and a list of neighbor candidates. In addition, each node also maintains a list of the past neighbors. These are essential to node selection in the overlay network.</p> <h3 id="preferred-storage-miners-with-a-closer-network-distance"><a href="#preferred-storage-miners-with-a-closer-network-distance" aria-hidden="true" class="header-anchor">¶</a> Preferred storage miners with a closer network distance</h3> <p>When user uploads data to PPIO's storage network, its neighbors are prioritized when selecting storage miners to store the data. A large percentage of the copies of the data are stored on the neighboring miners with faster connection to the user, in order to achieve higher transfer speed during storage and retrieval. When enough miner nodes join the newtowrk in different regions of the world, high data transfer speed can be maintained around the globe.</p> <h3 id="about-users-who-change-regions-frequently"><a href="#about-users-who-change-regions-frequently" aria-hidden="true" class="header-anchor">¶</a> About users who change regions frequently</h3> <p>When a user node repeatedly travels between two different regions, PPIO’s design can provide great user experience in both places. When the user node is in location <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">A</span></span></span></span>, it finds neighbors in location <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">A</span></span></span></span>. When the user node is in a second location <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span>, it finds neighbors in location <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span>. As a result, its neighbor list or history list contain peers from both locations. If the user node stays in location <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">A</span></span></span></span> for an extended period of time, its neighbor list will contain more peers from location <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">A</span></span></span></span>, and vice versa. If the user node travels repeatedly back and forth, the list will contain similar number of peers from location <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span>. In this way, when user node uploads data, neighbor miners from both node will store copies of the data, so that fast data retrieval can be achieved in both places.</p> <h3 id="if-the-user-permanently-relocates-to-a-different-region"><a href="#if-the-user-permanently-relocates-to-a-different-region" aria-hidden="true" class="header-anchor">¶</a> If the user permanently relocates to a different region</h3> <p>When a user node permanently relocates to a different region, PPIO provides a reset feature to help with the reschedule. When reset is initiated, its neighbor list is rebuilt from scratch. New copies are created for existing user data in the network, and these copies are stored by prioritizing the new neighbors. In this way fast data retrieval can be achieved for previously stored data, as well as new data to be stored to the network.</p> <h2 id="optimized-distribution-of-popular-content"><a href="#optimized-distribution-of-popular-content" aria-hidden="true" class="header-anchor">¶</a> Optimized Distribution of Popular Content</h2> <p>In a data distribution network, a small number of popular content can consume a large portion of the bandwidth and storage resources. At the same time, download speed of popular content can have huge impact on the overall user experience. Therefore, optimization of popular content distribution is crucial to the network. PPIO provides two optimized scheduling methods for popular content, one that relies on incentivized storage miners, and the other enforced by the scheduler. The two methods are designed to work together and ensure efficient distribution of popular content, and maintain a healthy ecosystem of the storage network.</p> <h3 id="storage-miners-active-selection"><a href="#storage-miners-active-selection" aria-hidden="true" class="header-anchor">¶</a> Storage miners active selection</h3> <p>As described before, an self-organizing overlay network is established by the participating nodes. When a user node requests for a piece of data, it looks up the resources from the indexing node, and the indexing node returns inforamtion about the miner nodes that store the content. At the same time, user node also broadcasts the request to its neighbors to find the resources. Its peers will forward the request to their neighbors upon receiving it. In order to avoid unnecessary burden on the network, the length of the forwarding path is limited. But it also adapts based on the number of nodes that the request has reached. When not enough nodes have been reached, a longer forwarding path is allowed.</p> <p>When a miner node receives the forwarded request, and if it happens to possess the requested resources, it notifies the user and there is better priority that user will in fact download the data from it, since the miner node is in the forwarding path of the user’s neighbors, and thus close to the user. In PPIO, miner is incentivized to provide download service as it gets rewarded for doing so.</p> <p>From the process above, a miner is able to track the requests of nearby users, and identify popular content. As storing popular content increases its chance to provide download service and get rewarded, the miner will proactively send requests to the scheduler to store the resources of popular content. As many miners follow the same strategy, popular data gets quickly populated, and it improves the download speed significantly for the users. When a miner discovers that its stored content is no longer popular, it can request to remove the content from its storage. Once approved, the storage can be released and made available to store other resources.</p> <p>This method is driven by the demand, it incentivizes miners to proactively store popular content. It also adapts to the popularity of data in different regions. As PPIO’s overlay network is built by clustering nearby peers, if a piece of content is only popular in a certain region, only the miners in the same region will populate it extensively. Miners in other parts of the network are not affected, thus the overall efficiency of the storage network is maintained.</p> <p>The algorithm to identify popular content can be customized by each miner. Different miners in different regions can customize the algorithm differently, in oder to optimize for higher reward.</p> <h3 id="adjusted-scheduling-of-popular-content"><a href="#adjusted-scheduling-of-popular-content" aria-hidden="true" class="header-anchor">¶</a> Adjusted Scheduling of Popular Content</h3> <p>Miner nodes that store large amount of popular content are likely to receive more download requests, and fulfilling those requests gets them higher reward. However, too many concurrent downloads will exhaust the bandwidth resource of these miners and reduce the download speed of each user. At the same time, it is not fair to the miners that store less popular content, that gets much lower reward than the others.</p> <p>To avoid these problems, the scheduler in the network employs an adjusted scheduling service based on the popularity of the content. Miners that request to store the most popular content need to pay the scheduler before receiving the resources. The miner nodes with higher bandwidth and larger storage still have enough incentives to do so, but they won’t download too much such content, otherwise they can no longer achieve a surplus by providing download service that their bandwidth allow them to.</p> <p><img src="/ebe728bbcdb57a2db4a06276a31700e0.png" alt="Dispatch of Popular Content"><br></p><p style="font-size:14px; text-align:center;">Dispatch of Popular Content</p><p></p> <p>As shown in the figure above, multiple miners store copies of the same data, they need to compete to provide download services to the user. The user always prefers the ones that provide higher download speed. If a miner does not have enough bandwidth, users will switch to others. The amount of data it uploads to the users will decrease, which in turn decreases the reward it receives. Therefore, miners with lower bandwidth will not be incentivized to store popular content. As a result, popular content are mostly stored on miners with higher bandwidth, which in turn improves the speed and experience when user downloads such content.</p> <h2 id="isp-friendly-scheduling"><a href="#isp-friendly-scheduling" aria-hidden="true" class="header-anchor">¶</a> ISP Friendly Scheduling</h2> <p>In most P2P networks, a node can transfer data with any other peers, regardless of their location. As a result, a single data transfer can potentially create traffic anywhere in the world, and consumes bandwidth between different Internet Service Providers (ISP), or even between different countries. In 2007, a research institute iPoque carried out an analysis on nearly 3TB of anonymous data sampled from more than a million internet users in Eastern Europe, Southern Europe, Australia and the Middle East.[5] Their studies show that P2P file sharing takes up a significant part of the network bandwidth consumption, accounting for about 49% in the Middle East, and 84% in Eastern Europe. From a global perspective, 95% of the bandwidth at prime time is involved in some forms of P2P data transmission. In recent years, the percentage of P2P traffic has dropped due to a shift in the use pattern of Internet applications. However, with the recent development of blockchain technology and decentralized applications, P2P network traffic is expected to start increasing again. P2P traffic consumes an extraordinary amount of network bandwidth, including international bandwidth. It puts a lot of burden on our internet infrastructure, and significantly increase the cost for ISPs to operate.</p> <p>As described before, PPIO’s self-organizing overlay network encourages data transfer among neighboring nodes, a large percentage of its traffic is contained within the local network, and the operation cost incurred upon ISPs is greatly reduced. However, the topology of PPIO’s overlay network may not match the ISP topology exactly. Further optimization to reduce unnecessary traffic between ISPs is needed to further improve PPIO’s ability to scale globally.</p> <p>If the nodes participating in a data transmission happen to be in the close vicinity of each other, it is likely that the traffic will be contained within their area network. As a result, the bandwidth cost will be significantly reduced. This is exactly the principle behind P4P, to fully utilize local network bandwidth in a P2P network.</p> <p>P4P, or Proactive network Provider Participation for P2P[4], is a method for ISPs and P2P software to optimize connections. It enables peer selection based on the topology of the physical network, in order to reduce traffic on the backbone network, lower the operation cost of network providers, and improve data transfer efficiency.</p> <p>The implementation of P4P in traditional P2P networks relies on central servers. As PPIO is a completely decentralized network, a decentralized P4P solution is required.</p> <p>PPIO provides an iP4P interface that allows ISPs to setup and configure P4P in their network, and allows applications to query the information. iP4P is designed to be similar to the iTracker interface in centralized P2P networks, to make it easier to adapt.</p> <ul><li><code>ip-list</code>: allows ISPs to provide the list of IPs in their network, it allows nodes in PPIO’s network to be associated with their ISP.</li> <li><code>policy</code> allows ISPs to configure the policy for applications to access P4P information.</li> <li><code>p4p-disance</code> allows applications to query P4P cost and distance between network nodes.</li> <li><code>capability</code> allows applications to query of network resources and capacity of the ISP network.</li> <li><code>firendly-isp-list</code> allows applications to query information of friendly ISP, including p4p-distance across different ISPs.</li></ul> <p>At the same time PPIO introduces a global IP database that is maintained by community. Information in the database can be used to calculate the p4p distance between two nodes in the network, when at least one of them is not within a known ISP network from the iP4P Interface. The database is synced to scheduler(Indexer) nodes and Verifier nodes in the P2P network. Every node in the network can query its own information from the database. The following shows part of the information stored for each node.</p> <div class="language-go extra-class"><pre class="language-go"><code>message P4PPeerInfo <span class="token punctuation">{</span>
    <span class="token builtin">uint32</span> countryId <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token comment">//  Country ID</span>
    <span class="token builtin">uint32</span> ispId <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>       <span class="token comment">//  ISP ID</span>
    <span class="token builtin">uint32</span> stateId <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>     <span class="token comment">// State or Province ID</span>
    <span class="token builtin">uint32</span> cityId <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>      <span class="token comment">// City ID</span>
<span class="token punctuation">}</span>
</code></pre></div><p>When selecting data connections from a given node, the indexing and scheduling node (IndexScheduler) in PPIO’s network checks whether the node can be queried from the iP4P interface:</p> <ul><li><p>If so, a peer lookup in the node’s ISP network will be conducted first, followed by a lookup in the friendly ISPs, and finally among all other peers. The final peer decision will still be decided based on connection speed as described in <a href="#p2p-self-organizing-overlay-networks">P2P Self-Organizing Overlay Networks</a>. In this way, peers with shorter p4p distances to the node are more likely to be selected to upload or download its data. At the same time, nodes in slower ISPs can still connect to faster outside peers. As a result, unnecessary traffic between different network providers is significantly reduced, and user experience across the entire network is maintained at a high level.</p></li> <li><p>If not, the p4p distance calculated from global IP database is used in the pre-selection of peers. Similarly the final selection will still be based connection speed.</p></li></ul> <h2 id="pcdn"><a href="#pcdn" aria-hidden="true" class="header-anchor">¶</a> PCDN</h2> <p>PCDN stands for CDN acceleration with P2P, it utilizes the abundant bandwidth and storage resources of miners in P2P network to achieve faster data distribution. PPIO is designed to support PCDN and provide a easy-to-use interface to DApps to accelerate their content delivery.</p> <p>To start distributing a piece of content, it is published on the source node first. As long as the source node is online, user can download the from it. However, as the number of users downloading from the same source node increases, its available bandwidth gets quickly exhausted and the downloads will slow down. With PCDN, when other miner nodes start to store and provide download services for the same piece of content, users will be able to download from multiple peers in the network and enjoy much better user experience.</p> <p><img src="/9ffc299cf27ea7642019ddde01e864ba.png" alt="PCDN Data Flow"><br></p><p style="font-size:14px; text-align:center;">PCDN Data Flow</p><p></p> <p>There are two ways for applications to implement PCDN in PPIO.</p> <ol><li>Take advantage of content scheduling described in <a href="#optimized-distribution-of-popular-content">Optimized Distribution of Popular Content</a>.As PPIO embeds optimized scheduling of popular content in its overlay network, miners will proactively download and store popular data, and provide download services. As a result, data gets copied and distributed across the network where the data is deemed popular. It improves download experience as the number of copies increase. Under this scenario, the miners voluntarily distribute the data, therefore there is no need for the application to compensate these miners.</li> <li>Enable and configure PCDN directly. PPIO provides a set of APIs to allow DApps to set up PCDN for their content. The applications can specify the number of copies to be maintained in specific parts of the network, or specifc geographic location in terms of country, ISP, state and city, as defined in the P4P database. PPIO will find miner nodes in the specified area to store the copies, and provide download services. As the scheduling is specified by the application, it needs to compensate the miners’ cost in storage spacetime, scheduling and conducting storage proofs.</li></ol> <h3 id="reference"><a href="#reference" aria-hidden="true" class="header-anchor">¶</a> Reference</h3> <p>[1] <a href="http://ccr.sigcomm.org/online/files/p375-huangA.pdf" target="_blank" rel="noopener noreferrer">Yan Huang, Tom Z.J. Fu, Dah-Ming Gao, John C.S. Lui, Cheng Huang, &quot;Challenges, design and analysis of a large-scale p2p-vod system&quot;,ACM Sigcomm 2008<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
[2] <a href="https://www.sciencedirect.com/science/article/abs/pii/S1389128606003057" target="_blank" rel="noopener noreferrer">Yunhong Gu, Robert L.Grossma, &quot;UDT: UDP-based data transfer for high-speed wide area networks&quot;<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
[3] <a href="https://scinapse.io/papers/1965036080" target="_blank" rel="noopener noreferrer">Xinyan Zhang¤, Jiangchuan Liu, Bo Liz, and Tak-Shing Peter Yum, &quot;CoolStreaming/DONet: A Data-Driven Overlay Network for Efficient Live Media Streaming&quot;<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
[4] <a href="http://homes.cs.washington.edu/~arvind/papers/p4p.pdf" target="_blank" rel="noopener noreferrer">Haiyong Xie, Y. Richard Yang, Arvind Krishnamurthy, Yanbin Liu§ Avi Silberschatz, &quot;P4P: Provider Portal for Applications&quot;, ACM SIGCOMM 2008<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
[5] <a href="https://www.ipoque.com/news-media/press-releases/2007/ipoque-internet-study-2007-p2p-file-sharing-still-dominates" target="_blank" rel="noopener noreferrer">xfiPogue Internet Study 2007<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/PPIO/documentation/edit/master/guide/P2P_Network.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">last modified: </span> <span class="time">11/5/2018, 3:52:02 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/guide/System_Design.html" class="prev">
          System Design of PPIO
        </a></span> <span class="next"><a href="/guide/Four_Proof_Algorithms.html">
          Four Proof Algorithms
        </a>
        →
      </span></p></div> <footer class="page-footer"><div class="page-footer-content"><section class="copyright"><img src="/a3697dd5d198adc374c9720e7a7f2ff2.png" alt="logo" class="page-footer-logo"> <div class="line-sep"></div> <span class="page-footer-copyright">Copyright © 2018 PPIO Inc.  All Rights Reserved.</span></section> <nav class="page-footer-nav"><a href="https://twitter.com/PPLabs_PPIO" target="_blank" rel="nofollow external noopener" class="social-link-tw"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg></a> <a href="https://medium.com/@ppio" target="_blank" rel="nofollow external noopener" class="social-link-medium"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon"><path d="M512 1024C229.21216 1024 0 794.78784 0 512S229.21216 0 512 0 1024 229.21216 1024 512 794.78784 1024 512 1024z m274.432-353.15712h-21.42208c-4.01408 0-8.192-2.048-12.53376-6.144-4.3008-4.13696-6.47168-8.11008-6.47168-11.91936V372.81792c0-3.76832 2.21184-8.02816 6.63552-12.6976 4.42368-4.66944 8.56064-6.9632 12.36992-6.9632h21.42208V286.72h-202.1376l-67.25632 260.87424h-1.8432L448.512 286.72H245.76v66.43712h20.80768c4.21888 0 8.6016 2.33472 12.98432 6.9632 4.42368 4.66944 6.63552 8.88832 6.63552 12.6976v279.9616c0 3.80928-2.21184 7.7824-6.63552 11.8784-4.42368 4.13696-8.76544 6.18496-12.98432 6.18496H245.76V737.28h162.32448v-66.43712h-40.7552V376.66816h2.37568L463.2576 737.28h73.3184l94.74048-360.61184h1.80224v294.17472h-40.42752V737.28h193.7408v-66.43712z"></path></svg></a> <a href="https://www.youtube.com/channel/UCFRyuBY-PxoSaFmj5Evs5kQ" target="_blank" rel="nofollow external noopener" class="social-link-youtube"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M624.99264 710.848l0 120.576q0 38.272-22.272 38.272-13.152 0-25.728-12.576l0-172q12.576-12.576 25.728-12.576 22.272 0 22.272 38.272zM818.14464 711.424l0 26.272-51.424 0 0-26.272q0-38.848 25.728-38.848t25.728 38.848zM266.14464 586.848l61.152 0 0-53.728-178.272 0 0 53.728 60 0 0 325.152 57.152 0 0-325.152zM430.72064 912l50.848 0 0-282.272-50.848 0 0 216q-17.152 24-32.576 24-10.272 0-12-12-0.576-1.728-0.576-20l0-208-50.848 0 0 223.424q0 28 4.576 41.728 6.848 21.152 33.152 21.152 27.424 0 58.272-34.848l0 30.848zM675.87264 827.424l0-112.576q0-41.728-5.152-56.576-9.728-32-40.576-32-28.576 0-53.152 30.848l0-124-50.848 0 0 378.848 50.848 0 0-27.424q25.728 31.424 53.152 31.424 30.848 0 40.576-31.424 5.152-15.424 5.152-57.152zM868.99264 821.728l0-7.424-52 0q0 29.152-1.152 34.848-4 20.576-22.848 20.576-26.272 0-26.272-39.424l0-49.728 102.272 0 0-58.848q0-45.152-15.424-66.272-22.272-29.152-60.576-29.152-38.848 0-61.152 29.152-16 21.152-16 66.272l0 98.848q0 45.152 16.576 66.272 22.272 29.152 61.728 29.152 41.152 0 61.728-30.272 10.272-15.424 12-30.848 1.152-5.152 1.152-33.152zM521.56864 300l0-120q0-39.424-24.576-39.424t-24.576 39.424l0 120q0 40 24.576 40t24.576-40zM932.41664 729.152q0 133.728-14.848 200-8 33.728-33.152 56.576t-58.272 26.272q-105.152 12-317.152 12t-317.152-12q-33.152-3.424-58.56-26.272t-32.864-56.576q-14.848-64-14.848-200 0-133.728 14.848-200 8-33.728 33.152-56.576t58.848-26.848q104.576-11.424 316.576-11.424t317.152 11.424q33.152 4 58.56 26.848t32.864 56.576q14.848 64 14.848 200zM362.14464 0l58.272 0-69.152 228 0 154.848-57.152 0 0-154.848q-8-42.272-34.848-121.152-21.152-58.848-37.152-106.848l60.576 0 40.576 150.272zM573.56864 190.272l0 100q0 46.272-16 67.424-21.152 29.152-60.576 29.152-38.272 0-60-29.152-16-21.728-16-67.424l0-100q0-45.728 16-66.848 21.728-29.152 60-29.152 39.424 0 60.576 29.152 16 21.152 16 66.848zM764.99264 97.728l0 285.152-52 0 0-31.424q-30.272 35.424-58.848 35.424-26.272 0-33.728-21.152-4.576-13.728-4.576-42.848l0-225.152 52 0 0 209.728q0 18.848 0.576 20 1.728 12.576 12 12.576 15.424 0 32.576-24.576l0-217.728 52 0z"></path></svg></a> <a href="https://www.linkedin.com/company/pplabs/" target="_blank" rel="nofollow external noopener" class="social-link-linkedin"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M896 64H127.8C92.6 64 64 93 64 128.6v766.8C64 931 92.6 960 127.8 960H896c35.2 0 64-29 64-64.6V128.6c0-35.6-28.8-64.6-64-64.6zM334.8 832H202V404.4h133V832z m-66.4-486c-42.6 0-77-34.6-77-77S225.8 192 268.4 192c42.4 0 77 34.6 77 77 0 42.6-34.4 77-77 77z m564.2 486h-132.8V624c0-49.6-1-113.4-69-113.4-69.2 0-79.8 54-79.8 109.8V832h-132.8V404.4h127.4v58.4h1.8c17.8-33.6 61.2-69 125.8-69 134.4 0 159.4 88.6 159.4 203.8V832z"></path></svg></a> <a href="https://github.com/ppio" target="_blank" rel="nofollow external noopener" class="social-link-github"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M338.048 349.248"></path> <path d="M521.024 82.112c-244.224 0-442.176 197.952-442.176 442.176 0 202.304 135.872 372.864 321.344 425.472 7.424-7.424 19.328-9.152 25.344-21.952 11.392-24.192 0.064-59.072 4.16-94.848-59.584 11.904-105.92-1.728-128.512-39.168-10.112-16.768-12.608-36.608-24.896-51.52-12.16-14.912-31.616-16.896-37.312-37.056 73.856-17.792 76.608 75.968 142.976 78.272 20.288 0.768 30.848-5.888 49.728-10.304 5.248-23.36 16.256-40.832 32.576-53.184l-0.896 0 0.576-0.576c-125.632-22.4-178.112-99.2-178.112-190.464 0-44.16 14.592-84.928 43.2-117.952-18.176-54.208 1.728-100.48 4.416-107.328 51.968-4.672 105.92 37.12 110.144 40.448 29.568-7.936 63.296-12.224 100.992-12.224 37.952 0 71.808 4.416 101.504 12.416 10.112-7.616 60.224-43.584 108.48-39.168 2.56 6.976 22.016 52.096 4.928 105.6 28.992 32.96 43.712 73.984 43.712 118.4 0 91.456-52.736 168.384-178.816 190.464l0.384 0.384-1.088 0c6.912 13.312 17.536 21.376 24.32 36.736 3.328 7.552 4.544 14.592 5.568 20.608 7.424 44.352-7.04 101.952 0.32 152.384 0.64 4.544 1.6 9.792 3.008 15.552 177.792-57.28 306.432-224.128 306.432-420.928C963.264 280.128 765.248 82.112 521.024 82.112z"></path></svg></a></nav></div></footer> </div> <!----></div></div>
    <script src="/assets/js/11.4dba7306.js" defer></script><script src="/assets/js/app.28ed3b6b.js" defer></script>
  </body>
</html>
